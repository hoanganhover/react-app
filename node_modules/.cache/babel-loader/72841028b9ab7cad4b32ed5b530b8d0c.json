{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Users\\\\Admin\\\\Desktop\\\\Learn_Reactjs\\\\14_Cart\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport * as types from './../constants/ActionType'; //var data = JSON.parse(localStorage.getItem('CART'));\n//var initialState = data ? data :[];\n\nvar initialState = [{\n  product: {\n    id: 1,\n    name: 'Iphone 7 plus',\n    image: 'https://store.storeimages.cdn-apple.com/4974/as-images.apple.com/is/image/AppleInc/aos/published/images/H/H0/HH0H2/HH0H2?wid=445&hei=445&fmt=jpeg&qlt=95&op_sharpen=0&resMode=bicub&op_usm=0.5,0.5,0,0&iccEmbed=0&layer=comp&.v=K7ik72',\n    description: 'Apple',\n    price: 500,\n    inventory: 10,\n    rating: 3\n  },\n  quantity: 5\n}, {\n  product: {\n    id: 3,\n    name: 'Iphone 9 plus',\n    image: 'https://store.storeimages.cdn-apple.com/4974/as-images.apple.com/is/image/AppleInc/aos/published/images/H/H0/HH0H2/HH0H2?wid=445&hei=445&fmt=jpeg&qlt=95&op_sharpen=0&resMode=bicub&op_usm=0.5,0.5,0,0&iccEmbed=0&layer=comp&.v=K7ik72',\n    description: 'Apple',\n    price: 300,\n    inventory: 5,\n    rating: 5\n  },\n  quantity: 3\n}];\n\nvar cart = function cart() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var product = action.product,\n      quantity = action.quantity;\n  var index = -1;\n\n  switch (action.type) {\n    case types.ADD_TO_CART:\n      //console.log(action);\n      index = findProductCart(state, product);\n\n      if (index != -1) {\n        state[index].quantity += quantity;\n      } else {\n        state.push({\n          product: product,\n          quantity: quantity\n        });\n      }\n\n      return _toConsumableArray(state);\n\n    default:\n      return _toConsumableArray(state);\n  }\n};\n\nvar findProductCart = function findProductCart(cart, product) {\n  var index = -1;\n\n  if (cart.length > 0) {\n    for (var i = 0; i < cart.length; i++) {\n      if (cart[i].product.id === product.id) {\n        index = 1;\n        break;\n      }\n    }\n  }\n\n  return index;\n};\n\nexport default cart;","map":{"version":3,"sources":["C:\\Users\\Admin\\Desktop\\Learn_Reactjs\\14_Cart\\src\\reducers\\cart.js"],"names":["types","initialState","product","id","name","image","description","price","inventory","rating","quantity","cart","state","action","index","type","ADD_TO_CART","findProductCart","push","length","i"],"mappings":";AAAA,OAAO,KAAKA,KAAZ,MAAuB,2BAAvB,C,CAEA;AACA;;AACA,IAAIC,YAAY,GAAG,CACf;AACIC,EAAAA,OAAO,EAAE;AACLC,IAAAA,EAAE,EAAE,CADC;AAELC,IAAAA,IAAI,EAAG,eAFF;AAGLC,IAAAA,KAAK,EAAG,wOAHH;AAILC,IAAAA,WAAW,EAAG,OAJT;AAKLC,IAAAA,KAAK,EAAE,GALF;AAMLC,IAAAA,SAAS,EAAG,EANP;AAOLC,IAAAA,MAAM,EAAC;AAPF,GADb;AAUIC,EAAAA,QAAQ,EAAG;AAVf,CADe,EAaf;AACIR,EAAAA,OAAO,EAAE;AACLC,IAAAA,EAAE,EAAE,CADC;AAELC,IAAAA,IAAI,EAAG,eAFF;AAGLC,IAAAA,KAAK,EAAG,wOAHH;AAILC,IAAAA,WAAW,EAAG,OAJT;AAKLC,IAAAA,KAAK,EAAE,GALF;AAMLC,IAAAA,SAAS,EAAG,CANP;AAOLC,IAAAA,MAAM,EAAC;AAPF,GADb;AAUIC,EAAAA,QAAQ,EAAG;AAVf,CAbe,CAAnB;;AA2BA,IAAMC,IAAI,GAAG,SAAPA,IAAO,GAAiC;AAAA,MAAhCC,KAAgC,uEAAxBX,YAAwB;AAAA,MAAVY,MAAU;AAAA,MACrCX,OADqC,GACjBW,MADiB,CACrCX,OADqC;AAAA,MAC7BQ,QAD6B,GACjBG,MADiB,CAC7BH,QAD6B;AAE1C,MAAII,KAAK,GAAG,CAAC,CAAb;;AACA,UAAOD,MAAM,CAACE,IAAd;AACI,SAAKf,KAAK,CAACgB,WAAX;AACA;AACAF,MAAAA,KAAK,GAAGG,eAAe,CAACL,KAAD,EAAOV,OAAP,CAAvB;;AACA,UAAGY,KAAK,IAAI,CAAC,CAAb,EAAe;AACXF,QAAAA,KAAK,CAACE,KAAD,CAAL,CAAaJ,QAAb,IAAyBA,QAAzB;AACH,OAFD,MAGI;AACAE,QAAAA,KAAK,CAACM,IAAN,CAAW;AACPhB,UAAAA,OAAO,EAAPA,OADO;AAEPQ,UAAAA,QAAQ,EAARA;AAFO,SAAX;AAIH;;AAED,gCAAYE,KAAZ;;AACA;AAAU,gCAAWA,KAAX;AAfd;AAiBH,CApBD;;AAsBA,IAAIK,eAAe,GAAG,SAAlBA,eAAkB,CAACN,IAAD,EAAMT,OAAN,EAAiB;AACnC,MAAIY,KAAK,GAAG,CAAC,CAAb;;AACA,MAAGH,IAAI,CAACQ,MAAL,GAAc,CAAjB,EAAmB;AACf,SAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAET,IAAI,CAACQ,MAAvB,EAAgCC,CAAC,EAAjC,EAAqC;AACjC,UAAGT,IAAI,CAACS,CAAD,CAAJ,CAAQlB,OAAR,CAAgBC,EAAhB,KAAwBD,OAAO,CAACC,EAAnC,EAAsC;AAClCW,QAAAA,KAAK,GAAC,CAAN;AACA;AACH;AACJ;AACJ;;AACD,SAAOA,KAAP;AACH,CAXD;;AAaA,eAAeH,IAAf","sourcesContent":["import * as types from './../constants/ActionType';\r\n\r\n//var data = JSON.parse(localStorage.getItem('CART'));\r\n//var initialState = data ? data :[];\r\nvar initialState = [\r\n    {\r\n        product :{\r\n            id :1,\r\n            name : 'Iphone 7 plus',\r\n            image : 'https://store.storeimages.cdn-apple.com/4974/as-images.apple.com/is/image/AppleInc/aos/published/images/H/H0/HH0H2/HH0H2?wid=445&hei=445&fmt=jpeg&qlt=95&op_sharpen=0&resMode=bicub&op_usm=0.5,0.5,0,0&iccEmbed=0&layer=comp&.v=K7ik72',\r\n            description : 'Apple',\r\n            price :500,\r\n            inventory : 10,\r\n            rating:3\r\n        },\r\n        quantity : 5\r\n    },\r\n    {\r\n        product :{\r\n            id :3,\r\n            name : 'Iphone 9 plus',\r\n            image : 'https://store.storeimages.cdn-apple.com/4974/as-images.apple.com/is/image/AppleInc/aos/published/images/H/H0/HH0H2/HH0H2?wid=445&hei=445&fmt=jpeg&qlt=95&op_sharpen=0&resMode=bicub&op_usm=0.5,0.5,0,0&iccEmbed=0&layer=comp&.v=K7ik72',\r\n            description : 'Apple',\r\n            price :300,\r\n            inventory : 5,\r\n            rating:5\r\n        },\r\n        quantity : 3\r\n    }\r\n];\r\n\r\nconst cart = (state = initialState, action) =>{\r\n    var {product,quantity} = action;\r\n    var index = -1;\r\n    switch(action.type){\r\n        case types.ADD_TO_CART:\r\n        //console.log(action);\r\n        index = findProductCart(state,product);\r\n        if(index != -1){\r\n            state[index].quantity += quantity;\r\n        }\r\n        else{\r\n            state.push({\r\n                product,\r\n                quantity\r\n            });\r\n        }\r\n       \r\n        return  [...state];\r\n        default : return [...state];\r\n    }\r\n}\r\n\r\nvar findProductCart = (cart,product) =>{\r\n    var index = -1;\r\n    if(cart.length > 0){\r\n        for(var i = 0; i< cart.length ; i ++){\r\n            if(cart[i].product.id  === product.id){\r\n                index=1;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    return index;\r\n}\r\n\r\nexport default cart;"]},"metadata":{},"sourceType":"module"}